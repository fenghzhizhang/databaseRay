# databaseRay

## 重金属暴露案例数据库

这是一个包含重金属暴露案例研究的数据集，涵盖人类、动物和细胞层面的研究案例。

## 数据文件

- `temp1.zip` - 压缩的数据文件
- `temp1.txt` - TSV格式的原始数据（从zip中解压）
- `visualization.html` - 交互式数据可视化网页

## 数据可视化

### 使用方法

1. **解压数据文件**（如果尚未解压）：
   ```bash
   unzip temp1.zip
   ```

2. **打开可视化页面**：
   - 直接用浏览器打开 `visualization.html` 文件
   - 或使用本地服务器：
     ```bash
     python3 -m http.server 8000
     ```
     然后访问 `http://localhost:8000/visualization.html`

### 功能特性

可视化页面提供以下功能：

#### 📊 统计概览
- 总记录数
- 总案例数
- 金属种类数量
- 涉及物种数量

#### 🔍 搜索与筛选
- 全文搜索（支持搜索金属类型、物种、PMID等）
- 按案例类型筛选（人类/动物/细胞）
- 按金属类型筛选
- 按年份筛选

#### 📈 数据图表
1. **金属类型分布** - 柱状图展示最常见的重金属类型
2. **案例类型分布** - 饼图展示人类/动物/细胞案例比例
3. **年份分布趋势** - 折线图展示研究的时间趋势
4. **暴露途径统计** - 横向柱状图展示常见暴露途径

#### 🔗 三元组数据展示
以"主语-关系-宾语"的形式展示数据关系，例如：
- `物种` → `暴露于` → `金属类型`
- `金属类型` → `通过途径` → `暴露途径`
- `物种` → `剂量` → `暴露剂量`

#### 📋 数据表格
- 详细的表格视图
- 分页浏览
- 显示PMID、年份、案例数、金属类型、案例类型、物种和暴露剂量

## 数据结构

数据文件 `temp1.txt` 采用TSV（制表符分隔）格式，包含以下列：

| 列名 | 说明 |
|------|------|
| Session ID | 会话唯一标识符 |
| 案例总数 | 该记录包含的案例数量 |
| PMID | PubMed文献标识号 |
| 年份 | 研究发表年份 |
| 案例详情 | JSON格式的案例详细信息 |

### 案例详情字段

每个案例（JSON对象）包含：

- `case_id` - 案例编号
- `case_type` - 案例类型（human/animal/cell）
- `metal_type` - 金属类型（如：铅、汞、砷、镉等）
- `metal_compound` - 金属化合物
- `species` - 研究物种
- `exposure_route` - 暴露途径（数组）
- `exposure_dose` - 暴露剂量（包含value和unit）
- `is_fatal` - 是否致命（布尔值）
- `study_design` - 研究设计描述

## 技术栈

- **数据格式**：TSV（制表符分隔值）
- **可视化**：HTML + JavaScript + CSS
- **图表库**：Chart.js 4.4.0
- **样式**：响应式设计，支持移动端浏览

## 数据统计

数据集涵盖：
- 多种重金属（铅、汞、砷、镉、铬、铜等）
- 多个研究层面（人类、动物、细胞）
- 跨越多年的研究文献
- 多种暴露途径和剂量数据

## 许可

请参阅项目许可证文件了解使用条款。