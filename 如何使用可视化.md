# 数据可视化使用指南

## 快速开始

### 方法一：直接打开（推荐）

1. `temp1.txt` 文件已包含在项目中，无需解压

2. 用浏览器直接打开 `visualization.html` 文件
   - Windows: 双击文件或右键选择"打开方式" → "浏览器"
   - Mac: 双击文件或右键选择"打开方式" → "浏览器"
   - Linux: 在文件管理器中双击或使用命令：
     ```bash
     xdg-open visualization.html
     ```

### 方法二：使用本地服务器

如果直接打开遇到CORS问题，使用本地服务器：

```bash
# Python 3
python3 -m http.server 8000

# 或者 Python 2
python -m SimpleHTTPServer 8000

# 或者使用 Node.js
npx http-server -p 8000
```

然后在浏览器中访问：`http://localhost:8000/visualization.html`

## 功能说明

### 1. 统计卡片
页面顶部显示：
- 📊 总记录数
- 📋 总案例数  
- 🧪 金属种类
- 🐾 物种数量

### 2. 搜索与筛选
- **搜索框**：输入关键词搜索金属类型、物种或PMID
- **案例类型筛选**：筛选人类/动物/细胞案例
- **金属类型筛选**：按特定金属筛选
- **年份筛选**：按发表年份筛选

### 3. 三元组展示
以结构化方式展示数据关系：
- 物种 → 暴露于 → 金属类型
- 金属类型 → 通过途径 → 暴露途径
- 物种 → 剂量 → 暴露剂量

### 4. 图表可视化
- **金属类型分布**：柱状图显示最常见的10种重金属
- **案例类型分布**：饼图显示人类/动物/细胞案例比例
- **年份分布趋势**：折线图显示研究随时间的变化
- **暴露途径统计**：横向柱状图显示主要暴露途径

### 5. 数据表格
- 完整的数据表格视图
- 每页显示20条记录
- 分页浏览所有数据
- 显示详细的案例信息

## 交互技巧

1. **悬停查看详情**：鼠标悬停在图表上可查看具体数值
2. **筛选组合**：可以同时使用多个筛选条件
3. **实时搜索**：输入搜索关键词时结果即时更新
4. **响应式设计**：支持在手机和平板上浏览

## 数据说明

- 数据来源：temp1.txt（TSV格式）
- 总记录数：2693条
- 包含字段：会话ID、案例数、PMID、年份、案例详情
- 数据类型：重金属暴露研究案例

## 技术细节

- 前端技术：纯HTML + JavaScript + CSS
- 图表库：Chart.js 4.4.0
- 无需安装任何依赖
- 浏览器兼容：Chrome、Firefox、Safari、Edge（现代版本）

## 故障排除

### 问题1：页面显示空白
**解决**：
- 确保temp1.txt文件与visualization.html在同一目录下
- 如果文件不存在，运行：`unzip temp1.zip`

### 问题2：图表不显示
**解决**：检查网络连接，Chart.js需要从CDN加载

### 问题3：三元组数据显示为空
**解决**：
- 检查是否有过滤器限制了数据显示
- 清除所有筛选条件后重试
- 确保数据文件已正确加载

### 问题4：搜索/筛选后图表不更新
**解决**：此问题已修复，图表会随筛选条件自动更新

### 问题5：文件无法读取
**解决**：使用本地服务器运行，避免CORS限制

## 数据更新

如果需要更新数据：
1. 更新temp1.txt文件
2. 刷新浏览器页面即可看到最新数据

## 反馈与改进

如有问题或建议，请提交Issue或Pull Request。
